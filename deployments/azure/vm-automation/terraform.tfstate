{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 27,
  "lineage": "00005440-cb06-738c-6426-c1a9692f3363",
  "outputs": {
    "automation_account_name": {
      "value": "dev-vm-01-automation",
      "type": "string"
    },
    "bastion_dns_name": {
      "value": "bst-c0eee81f-0e2c-47d9-9c41-d542ad1b24fb.bastion.azure.com",
      "type": "string"
    },
    "bastion_host_name": {
      "value": "dev-vm-01-bastion",
      "type": "string"
    },
    "connection_instructions": {
      "value": "    \r\nTo connect to your VM via Azure Bastion:\r\n    \r\n1. Azure Portal Method (Recommended):\r\n   - Go to: https://portal.azure.com\r\n   - Navigate to Virtual Machines → dev-vm-01\r\n   - Click \"Connect\" → \"Bastion\"\r\n   - Enter username: azureuser\r\n   - Select \"SSH Private Key from Local File\"\r\n   - Upload your private key file\r\n   - Click \"Connect\"\r\n    \r\n2. Azure CLI Method:\r\n   az network bastion ssh \\\r\n     --name dev-vm-01-bastion \\\r\n     --resource-group rg-vm-automation-dev \\\r\n     --target-resource-id /subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Compute/virtualMachines/dev-vm-01 \\\r\n     --auth-type ssh-key \\\r\n     --username azureuser \\\r\n     --ssh-key ~/.ssh/id_rsa_azure\r\n    \r\nPrivate IP: 10.0.1.4\r\nOutbound IP (NAT): 135.225.26.217\r\n",
      "type": "string"
    },
    "nat_gateway_ip": {
      "value": "135.225.26.217",
      "type": "string"
    },
    "private_ip_address": {
      "value": "10.0.1.4",
      "type": "string"
    },
    "resource_group_name": {
      "value": "rg-vm-automation-dev",
      "type": "string"
    },
    "shutdown_schedule": {
      "value": {
        "name": "Shutdown-Schedule",
        "time": "2025-10-25T19:00:00+02:00",
        "timezone": "Europe/Helsinki"
      },
      "type": [
        "object",
        {
          "name": "string",
          "time": "string",
          "timezone": "string"
        }
      ]
    },
    "startup_schedule": {
      "value": {
        "name": "Startup-Schedule",
        "time": "2025-10-26T07:00:00+02:00",
        "timezone": "Europe/Helsinki"
      },
      "type": [
        "object",
        {
          "name": "string",
          "time": "string",
          "timezone": "string"
        }
      ]
    },
    "vm_id": {
      "value": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Compute/virtualMachines/dev-vm-01",
      "type": "string"
    },
    "vm_name": {
      "value": "dev-vm-01",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9NGI1NWQxNGEtNjYwNy00YTU2LTg2MTUtOWM5NTU1NjFkYTgwO3N1YnNjcmlwdGlvbklkPThjNzgxZjVjLWI0YzktNDE4NC05OTE1LTdiYjNiNjRhODg1ZTt0ZW5hbnRJZD05ZjBmZTAyZC00MDY4LTQzMDctYTVkYS02OTdiNjA1OGZhNjQ=",
            "object_id": "4b55d14a-6607-4a56-8615-9c955561da80",
            "subscription_id": "8c781f5c-b4c9-4184-9915-7bb3b64a885e",
            "tenant_id": "9f0fe02d-4068-4307-a5da-697b6058fa64",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_account",
      "name": "automation",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dsc_primary_access_key": "7z6QGy9x0iFma5SlyU9XvI6pm6Al/uPoKGLnxDxlJW1R7Hoqajowz8eepbjiXYtdDjM/ortTp2Vw/jEYBeaBTQ==",
            "dsc_secondary_access_key": "CN+xOEkHuAoIRVOwm8CCRTvLOsesmY0ERqqoA99x4RIVymhMCLsLDR6x+w0z6ZWCSWh9CeBRD5qV4UVmqgzwTg==",
            "dsc_server_endpoint": "https://9021f7ce-e8e8-417d-8092-dcbfa9dce078.agentsvc.sec.azure-automation.net/accounts/9021f7ce-e8e8-417d-8092-dcbfa9dce078",
            "encryption": [],
            "hybrid_service_url": "https://9021f7ce-e8e8-417d-8092-dcbfa9dce078.jrds.sec.azure-automation.net/automationAccounts/9021f7ce-e8e8-417d-8092-dcbfa9dce078",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation",
            "identity": [
              {
                "identity_ids": [],
                "principal_id": "d7fb3b2a-7fdc-470c-8b88-1430fd7ca5f5",
                "tenant_id": "9f0fe02d-4068-4307-a5da-697b6058fa64",
                "type": "SystemAssigned"
              }
            ],
            "local_authentication_enabled": true,
            "location": "swedencentral",
            "name": "dev-vm-01-automation",
            "private_endpoint_connection": [],
            "public_network_access_enabled": true,
            "resource_group_name": "rg-vm-automation-dev",
            "sku_name": "Basic",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "dsc_primary_access_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "dsc_secondary_access_key"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_job_schedule",
      "name": "shutdown_job",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "automation_account_name": "dev-vm-01-automation",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/schedules/Shutdown-Schedule|/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/runbooks/Shutdown-VM",
            "job_schedule_id": "2a027d6f-15e6-4955-ae3a-f6adea9e0b79",
            "parameters": {
              "resourcegroupname": "rg-vm-automation-dev",
              "vmname": "dev-vm-01"
            },
            "resource_group_name": "rg-vm-automation-dev",
            "resource_manager_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/jobSchedules/2a027d6f-15e6-4955-ae3a-f6adea9e0b79",
            "run_on": null,
            "runbook_name": "Shutdown-VM",
            "schedule_name": "Shutdown-Schedule",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_automation_runbook.shutdown_vm",
            "azurerm_automation_schedule.shutdown_schedule",
            "azurerm_linux_virtual_machine.vm",
            "azurerm_network_interface.nic",
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.vm_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_job_schedule",
      "name": "startup_job",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "automation_account_name": "dev-vm-01-automation",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/schedules/Startup-Schedule|/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/runbooks/Startup-VM",
            "job_schedule_id": "1db71fdf-aeea-49b2-8565-aa49d0f440b9",
            "parameters": {
              "resourcegroupname": "rg-vm-automation-dev",
              "vmname": "dev-vm-01"
            },
            "resource_group_name": "rg-vm-automation-dev",
            "resource_manager_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/jobSchedules/1db71fdf-aeea-49b2-8565-aa49d0f440b9",
            "run_on": null,
            "runbook_name": "Startup-VM",
            "schedule_name": "Startup-Schedule",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_automation_runbook.startup_vm",
            "azurerm_automation_schedule.startup_schedule",
            "azurerm_linux_virtual_machine.vm",
            "azurerm_network_interface.nic",
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.vm_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_runbook",
      "name": "shutdown_vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automation_account_name": "dev-vm-01-automation",
            "content": "param(\r\n    [string]$ResourceGroupName,\r\n    [string]$VMName\r\n)\r\n\r\ntry {\r\n    # Authenticate using managed identity\r\n    Connect-AzAccount -Identity\r\n        \r\n    Write-Output \"Shutting down VM: $VMName in resource group: $ResourceGroupName\"\r\n        \r\n    # Stop the VM\r\n    Stop-AzVM -ResourceGroupName $ResourceGroupName -Name $VMName -Force\r\n        \r\n    Write-Output \"VM $VMName has been stopped successfully\"\r\n}\r\ncatch {\r\n    Write-Error \"Error stopping VM: $_\"\r\n    throw\r\n}\r\n",
            "description": "",
            "draft": [],
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/runbooks/Shutdown-VM",
            "job_schedule": [],
            "location": "swedencentral",
            "log_activity_trace_level": 0,
            "log_progress": true,
            "log_verbose": true,
            "name": "Shutdown-VM",
            "publish_content_link": [],
            "resource_group_name": "rg-vm-automation-dev",
            "runbook_type": "PowerShell",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_runbook",
      "name": "startup_vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automation_account_name": "dev-vm-01-automation",
            "content": "param(\r\n    [string]$ResourceGroupName,\r\n    [string]$VMName\r\n)\r\n\r\ntry {\r\n    # Authenticate using managed identity\r\n    Connect-AzAccount -Identity\r\n        \r\n    Write-Output \"Starting VM: $VMName in resource group: $ResourceGroupName\"\r\n        \r\n    # Start the VM\r\n    Start-AzVM -ResourceGroupName $ResourceGroupName -Name $VMName\r\n        \r\n    Write-Output \"VM $VMName has been started successfully\"\r\n}\r\ncatch {\r\n    Write-Error \"Error starting VM: $_\"\r\n    throw\r\n}\r\n",
            "description": "",
            "draft": [],
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/runbooks/Startup-VM",
            "job_schedule": [],
            "location": "swedencentral",
            "log_activity_trace_level": 0,
            "log_progress": true,
            "log_verbose": true,
            "name": "Startup-VM",
            "publish_content_link": [],
            "resource_group_name": "rg-vm-automation-dev",
            "runbook_type": "PowerShell",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_schedule",
      "name": "shutdown_schedule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automation_account_name": "dev-vm-01-automation",
            "description": "Shutdown VM daily at configurable time",
            "expiry_time": "9999-12-31T23:59:59.9999999+00:00",
            "frequency": "Day",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/schedules/Shutdown-Schedule",
            "interval": 1,
            "month_days": null,
            "monthly_occurrence": [],
            "name": "Shutdown-Schedule",
            "resource_group_name": "rg-vm-automation-dev",
            "start_time": "2025-10-25T20:00:00+03:00",
            "timeouts": null,
            "timezone": "Europe/Helsinki",
            "week_days": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_automation_schedule",
      "name": "startup_schedule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automation_account_name": "dev-vm-01-automation",
            "description": "Start VM daily at configurable time",
            "expiry_time": "9999-12-31T23:59:59.9999999+00:00",
            "frequency": "Day",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Automation/automationAccounts/dev-vm-01-automation/schedules/Startup-Schedule",
            "interval": 1,
            "month_days": null,
            "monthly_occurrence": [],
            "name": "Startup-Schedule",
            "resource_group_name": "rg-vm-automation-dev",
            "start_time": "2025-10-26T07:00:00+02:00",
            "timeouts": null,
            "timezone": "Europe/Helsinki",
            "week_days": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_bastion_host",
      "name": "bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "copy_paste_enabled": true,
            "dns_name": "bst-c0eee81f-0e2c-47d9-9c41-d542ad1b24fb.bastion.azure.com",
            "file_copy_enabled": false,
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/bastionHosts/dev-vm-01-bastion",
            "ip_configuration": [
              {
                "name": "bastion-ipconfig",
                "public_ip_address_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/publicIPAddresses/dev-vm-01-bastion-ip",
                "subnet_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/AzureBastionSubnet"
              }
            ],
            "ip_connect_enabled": false,
            "kerberos_enabled": false,
            "location": "swedencentral",
            "name": "dev-vm-01-bastion",
            "resource_group_name": "rg-vm-automation-dev",
            "scale_units": 2,
            "shareable_link_enabled": false,
            "sku": "Basic",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null,
            "tunneling_enabled": false,
            "virtual_network_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.bastion_ip",
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.bastion_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine",
      "name": "vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": null,
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC2VJBGC98jEuDb0nWmasBa9UJzIpqZtKRokfojuorTw36qiViczFuxGXMpefo72PEd+q1kE6fg0lEzULvk5APuU+StgTI9dzeUB7nAIEO+GowG7PIoKDE3vxuhxoGMfI/UqK+xPH3kElBOtPdh2Z2oQ/k09RLRljW+xAFoYQzmMwJ+TVW72AlchiPrcBvqzHaFZSjZyfIavfpWpStm9lyroP5Oq6kduGMQkAveqtYCdFEaAATRoGCSW3IYj4oHp8gl4DHiI0fcp/pak5r4hsnSdI7xNr0tgUEAXAjOfzS2w0d9NHNkb/EGM8+BDRDbr/M9A926+lDW/GQeWq1Xqs/aAWyQfdoCBDlHyNL7Rl6G4gf4RzL1/Y6IMewCvOmtGNfqJvvE39xQSFGG6fXZQbHqrjusJKQ3+9oPPaNz7Z2+RSzICEFiWvXbaDavAOnCewqv3TbUl3nJ9m7gzBeVsb1kQ6AiXYMtxLiT/W2FxWrwLvOwgi0UYJHEr1yavfgmYryoUatVuMFvAbehNHvJEC73oRclojCITAOSD05xKHxrcVInfu+6GROtcaKBN9MzW3tqQcWEjE0VAA9dGNFaVickIbgQtsZVF2zvZ/h/TTeiIUTn4Nd1T02vsnH637qOLHpm7ZSvXEu+3AWo8G8oZhqFqEAXCHIiwsKUDiKBFbTZwQ== azure-vm-automation",
                "username": "azureuser"
              }
            ],
            "admin_username": "azureuser",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "bypass_platform_safety_checks_on_user_schedule_enabled": false,
            "capacity_reservation_group_id": "",
            "computer_name": "dev-vm-01",
            "custom_data": null,
            "dedicated_host_group_id": "",
            "dedicated_host_id": "",
            "disable_password_authentication": true,
            "disk_controller_type": "SCSI",
            "edge_zone": "",
            "encryption_at_host_enabled": true,
            "eviction_policy": "",
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Compute/virtualMachines/dev-vm-01",
            "identity": [
              {
                "identity_ids": null,
                "principal_id": "224eecae-9d39-48d4-8611-b0be46b642f5",
                "tenant_id": "9f0fe02d-4068-4307-a5da-697b6058fa64",
                "type": "SystemAssigned"
              }
            ],
            "license_type": "",
            "location": "swedencentral",
            "max_bid_price": -1,
            "name": "dev-vm-01",
            "network_interface_ids": [
              "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/networkInterfaces/dev-vm-01-nic"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "name": "dev-vm-01-osdisk",
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Premium_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "os_image_notification": [],
            "patch_assessment_mode": "ImageDefault",
            "patch_mode": "ImageDefault",
            "plan": [],
            "platform_fault_domain": -1,
            "priority": "Regular",
            "private_ip_address": "10.0.1.4",
            "private_ip_addresses": [
              "10.0.1.4"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "",
            "public_ip_addresses": [],
            "reboot_setting": "",
            "resource_group_name": "rg-vm-automation-dev",
            "secret": [],
            "secure_boot_enabled": false,
            "size": "Standard_B2s",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts-gen2",
                "version": "latest"
              }
            ],
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "termination_notification": null,
            "timeouts": null,
            "user_data": "",
            "virtual_machine_id": "3d6683ca-310f-4fbf-8e07-df57feedcd31",
            "virtual_machine_scale_set_id": "",
            "vm_agent_platform_updates_enabled": false,
            "vtpm_enabled": false,
            "zone": ""
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "custom_data"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.vm_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_nat_gateway",
      "name": "nat_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/natGateways/dev-vm-01-nat-gateway",
            "idle_timeout_in_minutes": 10,
            "location": "swedencentral",
            "name": "dev-vm-01-nat-gateway",
            "resource_group_name": "rg-vm-automation-dev",
            "resource_guid": "f778ced1-aa59-4a23-bfeb-ea977ff2ead6",
            "sku_name": "Standard",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_nat_gateway_public_ip_association",
      "name": "nat_gateway_ip_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/natGateways/dev-vm-01-nat-gateway|/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/publicIPAddresses/dev-vm-01-nat-gateway-ip",
            "nat_gateway_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/natGateways/dev-vm-01-nat-gateway",
            "public_ip_address_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/publicIPAddresses/dev-vm-01-nat-gateway-ip",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_nat_gateway.nat_gateway",
            "azurerm_public_ip.nat_gateway_ip",
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "accelerated_networking_enabled": false,
            "applied_dns_servers": [],
            "auxiliary_mode": "",
            "auxiliary_sku": "",
            "dns_servers": [],
            "edge_zone": "",
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/networkInterfaces/dev-vm-01-nic",
            "internal_dns_name_label": "",
            "internal_domain_name_suffix": "0g2zfncx5gkupi32ddlkd303of.gvxx.internal.cloudapp.net",
            "ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "name": "internal",
                "primary": true,
                "private_ip_address": "10.0.1.4",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "subnet_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet"
              }
            ],
            "ip_forwarding_enabled": false,
            "location": "swedencentral",
            "mac_address": "",
            "name": "dev-vm-01-nic",
            "private_ip_address": "10.0.1.4",
            "private_ip_addresses": [
              "10.0.1.4"
            ],
            "resource_group_name": "rg-vm-automation-dev",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.vm_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "vm_nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/networkSecurityGroups/dev-vm-01-vm-nsg",
            "location": "swedencentral",
            "name": "dev-vm-01-vm-nsg",
            "resource_group_name": "rg-vm-automation-dev",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "Allow-SSH-From-Bastion",
                "priority": 1000,
                "protocol": "Tcp",
                "source_address_prefix": "10.0.2.0/26",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "Internet",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "Allow-Internet-Outbound",
                "priority": 1000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Deny",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "Deny-All-Inbound",
                "priority": 4096,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "bastion_ip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/publicIPAddresses/dev-vm-01-bastion-ip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "4.225.203.255",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "dev-vm-01-bastion-ip",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-vm-automation-dev",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "nat_gateway_ip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/publicIPAddresses/dev-vm-01-nat-gateway-ip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "135.225.26.217",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "dev-vm-01-nat-gateway-ip",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-vm-automation-dev",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "vm_rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev",
            "location": "swedencentral",
            "managed_by": "",
            "name": "rg-vm-automation-dev",
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "automation_vm_contributor",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Authorization/roleAssignments/7fbb9978-6960-73eb-64de-3f74017a47b9",
            "name": "7fbb9978-6960-73eb-64de-3f74017a47b9",
            "principal_id": "d7fb3b2a-7fdc-470c-8b88-1430fd7ca5f5",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/providers/Microsoft.Authorization/roleDefinitions/9980e02c-c2be-4d73-94e8-173b1dc7cf3c",
            "role_definition_name": "Virtual Machine Contributor",
            "scope": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_automation_account.automation",
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "bastion_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.2.0/26"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/AzureBastionSubnet",
            "name": "AzureBastionSubnet",
            "private_endpoint_network_policies": "Enabled",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-vm-automation-dev",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "dev-vm-01-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "vm_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.1.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet",
            "name": "vm-subnet",
            "private_endpoint_network_policies": "Enabled",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-vm-automation-dev",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "dev-vm-01-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_nat_gateway_association",
      "name": "vm_subnet_nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet",
            "nat_gateway_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/natGateways/dev-vm-01-nat-gateway",
            "subnet_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_nat_gateway.nat_gateway",
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.vm_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "vm_subnet_nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet",
            "network_security_group_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/networkSecurityGroups/dev-vm-01-vm-nsg",
            "subnet_id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.vm_nsg",
            "azurerm_resource_group.vm_rg",
            "azurerm_subnet.vm_subnet",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.0.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "b492b9d1-f957-4795-a3bc-18d6a1f75d75",
            "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet",
            "location": "swedencentral",
            "name": "dev-vm-01-vnet",
            "resource_group_name": "rg-vm-automation-dev",
            "subnet": [
              {
                "address_prefix": "10.0.1.0/24",
                "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/vm-subnet",
                "name": "vm-subnet",
                "security_group": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/networkSecurityGroups/dev-vm-01-vm-nsg"
              },
              {
                "address_prefix": "10.0.2.0/26",
                "id": "/subscriptions/8c781f5c-b4c9-4184-9915-7bb3b64a885e/resourceGroups/rg-vm-automation-dev/providers/Microsoft.Network/virtualNetworks/dev-vm-01-vnet/subnets/AzureBastionSubnet",
                "name": "AzureBastionSubnet",
                "security_group": ""
              }
            ],
            "tags": {
              "AutoManaged": "true",
              "AutoShutdown": "Enabled",
              "CostCenter": "Engineering",
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "DevOps Team",
              "Project": "VM Automation",
              "ShutdownTime": "19:00 Finnish Time",
              "StartupTime": "07:00 Finnish Time"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.vm_rg"
          ]
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.bastion_sku",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.bastion_sku",
          "status": "pass"
        }
      ]
    }
  ]
}
